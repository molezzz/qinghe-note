(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{130:function(t,a,e){t.exports={default:e(131),__esModule:!0}},131:function(t){t.exports=function(){return Function.call.apply(Array.prototype.concat,arguments)}},132:function(t,a,e){var i=e(159);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(6).default)("79aa1852",i,!0,{})},158:function(t,a,e){"use strict";var i=e(132);e.n(i).a},159:function(t,a,e){(t.exports=e(5)(!1)).push([t.i,".page[data-v-c0bdb7d4]{display:flex;margin:5px;width:100%;flex-direction:column}.topbar[data-v-c0bdb7d4]{margin:10px 0}.ivu-card[data-v-c0bdb7d4]{margin-top:1em}.ivu-card .ivu-card-head p[data-v-c0bdb7d4]{font-size:16px}.ivu-card .benjing[data-v-c0bdb7d4]{font-size:18px;margin-bottom:1.5em}.item-list[data-v-c0bdb7d4]{height:300px;width:100%}.alias[data-v-c0bdb7d4]{font-size:14px;color:#999}.benjing-image[data-v-c0bdb7d4]{display:flex;align-items:flex-start}.benjing-image .benjing[data-v-c0bdb7d4]{flex-grow:1}.benjing-image .ivu-poptip[data-v-c0bdb7d4]{min-width:35%;max-width:35%;margin-left:1rem}.benjing-image .ivu-poptip .ivu-poptip-rel img[data-v-c0bdb7d4]{width:100%}",""])},197:function(t,a,e){"use strict";e.r(a);var i=e(130),n=e.n(i),s=e(18),o=e(103),r=e(1),c=e(53),l=e.n(c),d=e(104),g=e.n(d),p=(e(158),e(4)),v=Object(p.a)({name:"medicine",data:function(){return{items:[],next:1,perpage:5,pageHeight:0,loading:!1,searchBarHeight:64,keywords:null,searchTimeId:null,localImages:{}}},methods:{loadData:function(){var t=this,a={skip:(this.next-1)*this.perpage,take:this.perpage};this.keywords&&(a.where=[{name:Object(r.Like)("%"+this.keywords+"%")},{alias:Object(r.Like)("%"+this.keywords+"%")}]),this.loading||(this.loading=!0,s.Medicine.find(a).then(function(a){return 1>a.length?void(t.next=null):void Object(o.setTimeout)(function(){t.items=n()(t.items,a),t.next++,t.loading=!1},800)}))},imageSrc:function(t){var a=this.localImages[t.key];return console.log(a),a?"file://"+l.a.join(__static,"medicine_images",a):t.onlineImg?t.onlineImg:null},nextPage:function(){null===this.next||this.loading||this.loadData()},search:function(){this.next=1,this.items=[],this.loading=!1,this.nextPage()}},mounted:function(){var t=this;g.a.readdirSync(l.a.join(__static,"medicine_images")).forEach(function(a){var e=a.split("_")[0];t.localImages[e]=a}),window.onresize=function(){t.pageHeight=t.$refs.page.offsetHeight-t.searchBarHeight},this.$nextTick(function(){t.pageHeight=t.$refs.page.offsetHeight-t.searchBarHeight,t.loadData()})}},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"page",staticClass:"page"},[e("div",{staticClass:"topbar"},[e("Input",{attrs:{search:"","enter-button":"",placeholder:"输入药名"},on:{"on-search":t.search},model:{value:t.keywords,callback:function(a){t.keywords=a},expression:"keywords"}})],1),t._v(" "),e("Scroll",{staticClass:"item-list",attrs:{"on-reach-bottom":t.nextPage,height:t.pageHeight,"distance-to-edge":1}},t._l(t.items,function(a){return e("Card",{key:a.id},[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-leaf"}}),t._v("\n          "+t._s(a.name)+" "),a.alias&&""!=a.alias?e("span",{staticClass:"alias"},[t._v("（"+t._s(a.alias)+"）")]):t._e()],1),t._v(" "),e("div",{staticClass:"benjing-image"},[e("p",{staticClass:"benjing"},[e("span",{staticStyle:{"margin-left":"-0.5em"}},[t._v("【本经原文】")]),e("br"),e("br"),t._v(" "+t._s(a.benJing)+"\n        ")]),t._v(" "),a.onlineImg?e("Poptip",{attrs:{placement:"bottom-end",width:"672"}},[e("img",{attrs:{src:t.imageSrc(a)}}),t._v(" "),e("div",{attrs:{slot:"content"},slot:"content"},[e("img",{attrs:{src:t.imageSrc(a)}})])]):t._e()],1),t._v(" "),a.xingWei&&""!=a.xingWei?e("p",{staticClass:"attr"},[e("Tag",{attrs:{color:"volcano"}},[t._v("性味")]),t._v("\n        "+t._s(a.xingWei)+"\n      ")],1):t._e(),t._v(" "),a.origin&&""!=a.origin?e("p",{staticClass:"attr"},[e("Tag",{attrs:{color:"volcano"}},[t._v("产地")]),t._v("\n        "+t._s(a.origin)+"\n      ")],1):t._e(),t._v(" "),a.effect&&""!=a.effect?e("p",{staticClass:"attr"},[e("Tag",{attrs:{color:"volcano"}},[t._v("功效")]),t._v("\n        "+t._s(a.effect)+"\n      ")],1):t._e(),t._v(" "),a.taboo&&""!=a.taboo?e("p",{staticClass:"attr"},[e("Tag",{attrs:{color:"volcano"}},[t._v("禁忌")]),t._v("\n        "+t._s(a.taboo)+"\n      ")],1):t._e(),t._v(" "),a.paoZhi&&""!=a.paoZhi?e("p",{staticClass:"attr"},[e("Tag",{attrs:{color:"volcano"}},[t._v("炮制")]),t._v("\n        "+t._s(a.paoZhi)+"\n      ")],1):t._e(),t._v(" "),a.dose&&""!=a.dose?e("p",{staticClass:"attr"},[e("Tag",{attrs:{color:"volcano"}},[t._v("用量")]),t._v("\n        "+t._s(a.dose)+"\n      ")],1):t._e(),t._v(" "),e("Divider",{attrs:{dashed:""}}),t._v(" "),e("p",{staticStyle:{"margin-bottom":"1em"}},[t._v("注解：")]),t._v(" "),t._l(a.notes,function(a){return e("p",{key:a.id,staticClass:"note"},[e("Tag",{attrs:{color:"geekblue"}},[t._v(t._s(a.key))]),t._v("\n        "+t._s(a.content)+"\n      ")],1)})],2)}),1)],1)},[],!1,null,"c0bdb7d4",null);a.default=v.exports}}]);